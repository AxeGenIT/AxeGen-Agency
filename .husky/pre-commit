#!/bin/sh

echo "🔍 Running pre-commit checks..."

# Run ESLint + Prettier only on staged files
echo "📦 Linting staged files..."
npm run lint:stage || {
  echo "❌ Linting failed! Please fix the issues above."
  exit 1
}

# Run TypeScript type-checking (without emitting files)
echo "🧩 Checking TypeScript types..."
tsc --noEmit || {
  echo "❌ TypeScript errors found! Fix them before committing."
  exit 1
}

echo "✅ Pre-commit checks passed! Proceeding with commit..."
